

#include "Lista.h"
using namespace std;

Lista::Lista() {
	Lista::rozmiar=0;
	Lista::poczatek=NULL;
	Lista::obecny=NULL;
	Lista::koniec=NULL;

}

Lista::~Lista() {
	for(int i=0;i<Lista::rozmiar;i++){
		obecny=poczatek->nast;					//przypisanie nastepnego elementu zeby usunac poczatek
		delete poczatek;
		poczatek=obecny;						//obecny element zostaje pierwszym
	}
}


void Lista::dodajPoczatek(int wartosc){
	if(poczatek){
		obecny=poczatek;										//ustawiamy wskaznik na pierwszy element
		poczatek=new ListaElement(wartosc,NULL,obecny);			//tworzymy poczatkowy element
		obecny->poprz=poczatek;									//poprzedni poczatek staje drugim elementem

	}
	else{
		poczatek=new ListaElement(wartosc,NULL,NULL);			//mamy jeden element wiec ustawiamy go jako poczatek i koniec
		koniec=poczatek;
	}
	rozmiar++;
}
void Lista::dodajGdzies(int wartosc,int miejsce){
	if(miejsce==0){										//jesli dodajemy na poczatek to wywolujemy odpowiednia funkcje
		Lista::dodajPoczatek(wartosc);
		return;
	}
	if(miejsce==rozmiar-1){								//jesli dodajemy na koniec to wywolujemy funkcje dodajKoniec
		Lista::dodajKoniec(wartosc);
		return;
	}
	if(miejsce>rozmiar||miejsce<0){						//sprawdzenie czy miejsce zawiera sie w liscie
		cout<<"Błędnie podane miejsce";
	}
	if(miejsce<rozmiar/2){								//jesli miejsce jest w pierwszej polowie zaczynamy od poczatku
		obecny=poczatek;
		for(int i=1;i<miejsce-1;++i){					//przesuwamy wszystkie elementy o jeden do przodu
			obecny=obecny->nast;
		}
	}
	else{
		obecny=koniec;									//w przeciwnym razie zaczynamy od konca
		for(int i=0;i<rozmiar-miejsce-1;++i){
			obecny=obecny->poprz;						//przesuwamy wszystkie poprzednie o jeden do tyłu
		}
	}
	ListaElement *dodany=new ListaElement(wartosc,obecny->nast,obecny);

}
